# {{ ansible_managed }}

# The following lines are desirable for IPv4 capable hosts
{% if hosts_hostname_loopback %}
127.0.0.1 {{ inventory_hostname | lower }} {{ inventory_hostname_short | lower }}
{% endif %}
127.0.0.1 localhost.localdomain localhost
127.0.0.1 localhost4.localdomain4 localhost4
{{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'] }} {{ inventory_hostname | lower }} {{ inventory_hostname_short | lower }}
{% if ansible_lo.ipv6 is defined and hosts_ipv6 %}

# The following lines are desirable for IPv6 capable hosts
{% if hosts_hostname_loopback %}
::1 {{ inventory_hostname | lower }} {{ inventory_hostname_short | lower }}
{% endif %}
::1 localhost.localdomain localhost
::1 localhost6.localdomain6 localhost6
::1 ip6-localhost ip6-loopback
{% if hostvars[inventory_hostname]['ansible_default_ipv6']['address'] is defined %}
{{ hostvars[inventory_hostname]['ansible_default_ipv6']['address'] }} {{ inventory_hostname | lower }} {{ inventory_hostname_short | lower }}
{% endif %}
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts
{% endif %}

{% if hosts_inventory_to_hosts %}
# The following lines are generated from the ansible inventory{% for host in ansible_play_hosts_all %}

{% if hostvars[host]['internel_ansible_host'] is defined %}
{% set aliases=[] %}{% if hostvars[host]['hosts_aliases'] is defined %}{% for alias in hostvars[host]['hosts_aliases'] %}{% if alias != hostvars[host]['internel_ansible_host'] %}{{ aliases.append(alias) }}{% endif %}{% endfor %}{% endif %}
{{ hostvars[host]['ansible_default_ipv4']['address'] }} {{ hostvars[host]['internel_ansible_host'] }} {{ host }}{% for alias in aliases %} {{ alias }}{% endfor %}
{% else %}
{% set aliases=[] %}{% if hostvars[host]['hosts_aliases'] is defined %}{% for alias in hostvars[host]['hosts_aliases'] %}{% if alias != hostvars[host]['ansible_hostname'] %}{{ aliases.append(alias) }}{% endif %}{% endfor %}{% endif %}
{{ hostvars[host]['ansible_default_ipv4']['address'] }} {{ hostvars[host]['ansible_hostname'] }} {{ host }}{% for alias in aliases %} {{ alias }}{% endfor %}
{% endif %}
{% if hostvars[host]['ansible_default_ipv6']['address'] is defined %}
{% if hostvars[host]['internel_ansible_host'] is defined %}
{% set aliases=[] %}{% if hostvars[host]['hosts_aliases'] is defined %}{% for alias in hostvars[host]['hosts_aliases'] %}{% if alias != hostvars[host]['internel_ansible_host'] %}{{ aliases.append(alias) }}{% endif %}{% endfor %}{% endif %}
{{ hostvars[host]['ansible_default_ipv6']['address'] }} {{ hostvars[host]['internel_ansible_host'] }} {{ host }}{% for alias in aliases %} {{ alias }}{% endfor %}
{% else %}
{% set aliases=[] %}{% if hostvars[host]['hosts_aliases'] is defined %}{% for alias in hostvars[host]['hosts_aliases'] %}{% if alias != hostvars[host]['ansible_hostname'] %}{{ aliases.append(alias) }}{% endif %}{% endfor %}{% endif %}
{{ hostvars[host]['ansible_default_ipv6']['address'] }} {{ hostvars[host]['ansible_hostname'] }} {{ host }}{% for alias in aliases %} {{ alias }}{% endfor %}
{% endif %}
{% endif %}
{% endfor  %}
{% endif %}

{% if hosts_dns_hostname is defined %}
# The following lines are generated by ansible with hosts_dns_hostname variable
{% for item in hosts_dns_hostname %}
{{ item.address }} {{ item.hostname }}{% if item.aliases is defined %}{% for alias in item.aliases %} {{ alias }}{% endfor %}{% endif %}
{% if not loop.last %}

{% endif %}
{% endfor %}
{% endif %}
